"use strict";var variantCacheData={};function initTagsCollapse(){screen.width>922&&($(".product-tag-search").each(function(){let t=$(this).get(0);t.scrollHeight>44&&$(t).addClass("active")}),$(".more-tags .button").click(function(){$(this).parentsUntil(".product-tag-search").parent().addClass("show-all-tags")}))}screen.width<1280&&($(".write-review").click(function(){$(".product-review-box").slideToggle(),$(".comment-form").slideToggle()}),$(".product-feature").click(function(){$(this).next().slideToggle()}),$(document).bind("click",function(t){var e=$(t.target);e.is(".read-all-review-heading")&&(t.preventDefault(),$(e).next().slideToggle())})),$(document).ready(function(){$(document).on("click",".open-multiple-size",function(){$("body").addClass("open-multiple-size-wrapper"),$(".list-product-size-wrapper").toggleClass("product-size-focus"),$(".list-product-size-background").toggleClass("mb-show")}),$(".close-multiple-sz, .multiple-size-background").click(function(){$("body").removeClass("open-multiple-size-wrapper"),$("body").removeClass("mb-open-multiple-size")}),$("#js-choose-size-value").click(function(t){$(this).toggleClass("product-size-focus"),$(".list-product-size-wrapper").toggleClass("product-size-focus"),$(".list-product-size-background").toggleClass("mb-show"),$("body").addClass("mb-open-multiple-size"),t.stopPropagation()}),$(".close-choose-size").click(function(){$(".list-product-size-wrapper").removeClass("product-size-focus"),$(".list-product-size-background").removeClass("mb-show")}),$(".list-product-size-background").click(function(){$(this).toggleClass("mb-show"),$(".list-product-size-wrapper").toggleClass("product-size-focus")}),$(".close-multiple-size, .list-product-size-background").click(function(){$("body").removeClass("mb-open-multiple-size")}),$(document).on("click",".header-prop",function(){$(this).parents(".bulk-ordering-dialog-choose").removeClass("product-size-focus")}),$(document).on("click",".bulk-ordering-dialog-choose > .select-variant",function(t){t.stopPropagation();let e=$(this).parent(".product-size-focus");e&&e.length?$(e).removeClass("product-size-focus"):($(".bulk-ordering-dialog-choose").removeClass("product-size-focus"),$(this).parent(".bulk-ordering-dialog-choose").addClass("product-size-focus"))}),$(document).on("click",function(t){$(t.target).parents(".bulk-ordering-dialog-choose").length||($(".bulk-ordering-dialog-choose").removeClass("product-size-focus"),$("body").removeClass("mb-open-multiple-size")),$(t.target).parents(".list-product-size-wrapper").length||($(".list-product-size-wrapper").removeClass("product-size-focus"),$("body").removeClass("mb-open-multiple-size"))}),$(document).on("click",".select-a-size",function(){var t=$(this).find(".product-size-item-content").text();$("#js-choose-size-value").text(t),$(".list-product-size-wrapper").toggleClass("product-size-focus"),$(".list-product-size-background").toggleClass("mb-show"),$("body").removeClass("open-multiple-size-wrapper"),$("body").removeClass("mb-open-multiple-size")}),$(".choose-image-variant").click(function(){var t=$(this).find("img").attr("src"),e=$(this).find("img").attr("alt");$(this).parents(".bulk-ordering-dialog-choose").find(".select-img").attr({src:t,alt:e,title:e}),$(this).parents(".bulk-ordering-dialog-choose").find(".image-title").text(e)})}),$(document).ready(async function(){var t,e=null,i=null,a=null,n=null,s=null,r=null,o=!1;let d=await $.ajax({method:"GET",url:"/product/variant?id="+$("#productId").val()});if("successful"==d.status&&(r=d.result,window.globalVariants=r),initTagsCollapse(),$(".designer-list-product").slick({slidesToShow:6,slidesToScroll:6,autoplay:!1,autoplaySpeed:2e3,infinite:!1,responsive:[{breakpoint:1280,settings:{slidesToShow:5,slidesToScroll:5,arrows:!1}},{breakpoint:996,settings:{slidesToShow:4,slidesToScroll:4,arrows:!1}},{breakpoint:760,settings:{slidesToShow:2,slidesToScroll:2,arrows:!1}}]}),$(".featured-product-list").slick({slidesToShow:5,slidesToScroll:4,autoplay:!1,autoplaySpeed:2e3,infinite:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:2,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),c(),$("#form-buy-now").submit(function(t){t.preventDefault();var e=$(this);$(this).attr("disabled","disabled"),$.ajax({method:"POST",url:"/cart/add-to-cart",data:{productId:$("#productId").val(),quantity:$("#quantity").val(),_token:"{{ csrf_token() }}"}}).done(function(t){"successful"==t.status?(localStorage.setItem("change-cart",Date.now()),document.location.href="/cart"):alert("Fail. Try again later"),e.removeAttr("disabled")})}),i=function(){var t={},e={};r.productVariants&&r.productVariants.forEach(function(i){t[i.id]=i;var a=[];if(i.variants.forEach(function(t){a.push(t.id)}),a.length>0)for(var n=permute(a),s=0;s<n.length;s++){var r=n[s].join("-");e[r]=i}});return{productById:t,productByUniqId:e}}(),t=function(){var t={},e=[],i={},a={};if(r.variants)for(var n=0;n<r.variants.length;n++){e.push(r.variants[n].id),i[r.variants[n].id]=r.variants[n].name;for(var s=0;s<r.variants[n].values.length;s++)a[r.variants[n].values[s].id]=r.variants[n].values[s].name}return t.variantIds=e,t.variantById=i,t.variantOptionById=a,t}(),a=getParameterByName("spid"),e=t.variantIds,n=!1,null==a)r.productVariants.forEach(function(t){1==t.is_default&&(a=t.id,s=t)});else{let t=!1,e=null;r.productVariants.forEach(function(i){i.is_default&&(e=i.id),i.id==a&&(t=!0)}),t||(a=e),s=r.productVariants.find(t=>t.id==a)}!s&&r.productVariants&&r.productVariants.length&&(s=r.productVariants[0],a=s.id),s&&s.sku&&$(".span-product-sku").text(s.sku),function(){if(s){let t=null,e=null;for(let i=0;i<r.variants.length;i++)"PREVIEW"==r.variants[i].type&&(t=r.variants[i],e=i);if(t){let i=null;s.variants.forEach(e=>{e.variant_id==t.id&&(i=e.id)}),i&&(t.values.sort(function(t,e){return t.id==i?-1:e.id==i?1:0}),r.variants[e]=t)}}}(),function(t,e){if(void 0!==e[t]){var i=e[t];if(void 0!==i.variants&&i.variants.length>1){let t=i.variants[0],e=r.variants.find(e=>e.id==t.variant_id),a=e.values,n=0;for(;i.variants[n];){if(a){let t=a.find(t=>t.id==i.variants[n].id);if(t){let e=t.options;if(e.length){let t=$("#js-select-variant-"+e[0].variant_id);if(!parseInt($(t).attr("data-show-invalid"))){let i=$(t).children();e=e.map(t=>parseInt(t.id)),i.each((t,i)=>{let a=$(i).attr("data-variant-option-id");a||(a=$(i).attr("value")),a&&(a=parseInt(a),e.includes(a)||-1==a||$(i).remove())})}}a=t.options}}n++}}}}(a,i.productById),function(t,e,i=!1){if(void 0!==e[t]){var a=e[t];getParameterByName("spid");void 0!==a.variants&&a.variants.length>0&&a.variants.forEach(function(t){if(f(t.variant_id,t.id),"OPTION"==t.variant_type&&("size"!=t.variant_slug||n&&!enableMultipleSize))$("#js-select-variant-"+t.variant_id).val(t.id);else if("OPTION"==t.variant_type&&"size"==t.variant_slug&&enableMultipleSize)$("#js-select-variant-"+t.variant_id).attr("data-size",t.id);else{$("#js-choose-variant-"+t.id).addClass("active");var e=$("#js-choose-variant-"+t.id).data("variant-option-id");I("variant-size",e,!1);let i=$("#js-choose-variant-"+t.id+' > input[type="radio"]');i&&i.length&&$(i).prop("checked",!0)}})}}(a,i.productById,!0),k(a,i.productById,getParameterByName("spid")),$(document).on("click",".js-choose-variant",function(t){return function(t,a=!1){t.currentTarget&&(t=$(t.currentTarget));var s=t.attr("data-variant-id"),d=t.attr("data-variant-option-id"),l=d;if(!s||!d)return;f(s,d),$("#js-select-variant-"+s+" .js-choose-variant").removeClass("active"),$("#js-select-variant-"+s).find('input[type="radio"]').each(function(t,e){$(e).prop("checked",!1)}),$("#js-variant-name-"+s).html(""),t.addClass("active"),$(t).find('input[type="radio"]').each(function(t,e){$(e).prop("checked",!0)});let c=r.variants.find(t=>{if(s==t.id)return t}),p=c.values.find(t=>{if(t.id==d)return t});if("size"==c.slug){let e=t.children();e.each((t,e)=>{let i=$(e).attr("value");i&&-1==(i=parseInt(i))&&$(e).remove()}),n=!0,$(`#js-select-variant-${c.id}`).attr("data-size",d),$("#js-select-size-multiple").removeClass("error")}l=t.attr("data-sku-key")?t.attr("data-sku-key"):g(e,s,l);let m=!1;i.productByUniqId[l]||(l=v(l,s,p),m=!0);if(void 0!==i.productByUniqId[l]){var h=i.productByUniqId[l].id;if(k(h,i.productById),a||u(i.productByUniqId[l]),m){let t=w(c.type,c,parseInt($("#js-select-variant-"+s).attr("data-show-invalid")),h);if(t){$("#js-select-variant-"+s).html(t),$(`[data-variant-option-id=${p.id}]`).addClass("active");let e=$(`[data-variant-option-id=${p.id}] > input[type="radio"]`);e&&e.length&&$(e).prop("checked",!0)}}$(".span-product-sku").text(i.productByUniqId[l].sku)}y(p),I("variant-size",d),"size"==c.slug&&o&&(document.getElementsByClassName("product-addtocart")[0].click(),o=!1)}(t),!1}),$(document).on("change",".js-select-variant",function(t){return p(t),!1});var l=null;function c(){l=new Swiper(".product-gallery-nav",{spaceBetween:5,slidesPerView:2,freeMode:!0,watchSlidesProgress:!0,breakpoints:{768:{direction:"vertical"}}}),new Swiper(".product-gallery-box",{spaceBetween:0,slidesPerView:1,effect:"slide",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:l},pagination:{el:".swiper-pagination",clickable:!0},on:{init:function(){$(".swiper-button-next").removeClass("swiper-button-lock"),$(".swiper-button-next").removeClass("swiper-button-disabled"),$(".swiper-button-next").removeAttr("tabindex"),$(".swiper-button-next").removeAttr("aria-disabled"),$(".swiper-button-next").removeAttr("aria-controls");let t=document.querySelectorAll(".swiper-lazy");const e=new IntersectionObserver(function(t,i){t.forEach(function(t){if(t.isIntersecting){const i=t.target;if("PICTURE"===i.parentElement.tagName){let t=i.parentElement.getElementsByTagName("source");for(let e=0;e<t.length;e++)t[e].srcset=t[e].dataset.srcset}else i.src=i.dataset.src;i.classList.remove("lazy"),e.unobserve(i)}})});t.forEach(function(t){e.observe(t)})}}})}function u(t){let e='<div class="product-gallery-box"><div class="swiper-wrapper">',i='<div class="product-gallery-nav"><div class="swiper-wrapper">',a="",n="",s=t.gallery.length?t.gallery[0]:"";s&&(s=getImageCdn(s,1260,0,!1));let r=$(".slick-active .product-gallery-item img");if(r&&(a=$(r[0]).attr("src"))!=s&&s){t.gallery.forEach((t,a)=>{n="","undefined"!=typeof isZoomIn&&isZoomIn&&1===a&&(n="/350x350:1000x1000"),e+=`\n                    <div class="product-gallery-item swiper-slide">\n                        <picture>\n                            <source media="(min-width: 1030px)" srcset="${getImageCdn(t,1260,0,!1,!0,{zoomIn:n})}" />\n                            <source media="(min-width: 1000px) and (max-width: 1030px)" srcset="${getImageCdn(t,1116,0,!0,!0,{zoomIn:n})}" />\n                            <source media="(min-width: 760px) and (max-width: 1000px)" srcset="${getImageCdn(t,846,0,!0,!0,{zoomIn:n})}" />\n                            <source media="(min-width: 370px) and (max-width: 760px)" srcset="${getImageCdn(t,828,0,!1,!0,{zoomIn:n})}" />\n                            <source media="(min-width: 320px) and (max-width: 370px)" srcset="${getImageCdn(t,360,340,!1,!0,{zoomIn:n})}" />\n                            <img src="/images/blank.gif" alt=""  />\n                        </picture>\n                    </div>`,"undefined"!=typeof jsNotMobile&&jsNotMobile&&(i+=`\n\n                    <div class="gallery-nav-item swiper-slide" data-index="${a}">\n                        <picture>\n                            <source media="(min-width: 1030px)" srcset="${getImageCdn(t,1260,0,!1,!0,{zoomIn:n})}" />\n                            <source media="(min-width: 1000px) and (max-width: 1030px)" srcset="${getImageCdn(t,1116,0,!0,!0,{zoomIn:n})}" />\n                            <source media="(min-width: 760px) and (max-width: 1000px)" srcset="${getImageCdn(t,846,0,!0,!0,{zoomIn:n})}" />\n                            <source media="(min-width: 370px) and (max-width: 760px)" srcset="${getImageCdn(t,828,0,!1,!0,{zoomIn:n})}" />\n                            <source media="(min-width: 320px) and (max-width: 370px)" srcset="${getImageCdn(t,360,340,!1,!0,{zoomIn:n})}" />\n                            <img src="/images/blank.gif" alt=""  />\n                        </picture>\n                    </div>`)}),e+="</div>",e+='<div class="swiper-button-next"></div>',e+='<div class="swiper-button-prev"></div>',e+='<div class="swiper-pagination"></div>',i+="</div></div>";let a=e+="</div>";t.gallery.length>1&&(a+=i),$(".product-slider-wrapper").html(a),t.gallery.length>1&&c()}}function p(t,a=!1){t.currentTarget&&(t=$(t.currentTarget)),$(t).addClass("active"),$(t).hasClass("error")&&$(t).removeClass("error");let s=$(t).val(),o=t.attr("data-variant-id"),d=s;if(f(o,s),!o||!s)return;let l=r.variants.find(t=>{if(o==t.id)return t}),c=l.values.find(t=>{if(t.id==s)return t});if("size"==l.slug){t.children().each((t,e)=>{let i=$(e).attr("value");i&&-1==(i=parseInt(i))&&$(e).remove()}),n=!0}let p=t.find(`option[value="${s}"]`);d=p&&p.attr("data-sku-key")?p.attr("data-sku-key"):g(e,o,d);let m=!1;if(i.productByUniqId[d]||(d=v(d,o,c),m=!0),void 0!==i.productByUniqId[d]){var h=i.productByUniqId[d].id;if(k(h,i.productById),a||u(i.productByUniqId[d]),m){let e=w(l.type,l,parseInt(t.attr("data-show-invalid")),h);e&&(t.html(e),t.val(c.id))}$(".span-product-sku").text(i.productByUniqId[d].sku)}y(c),I("variant-size",s)}function v(t,a,n){let s=t.split("-"),o={};for(let t of r.variants){let e=t.values.map(t=>t.id+"");for(let i of s)e.includes(i)&&(o[t.id]=i)}let d=Object.values(h(o,n,o)),l=d.join("-");if(!i.productByUniqId[l]){let t=0;for(let i in e)if(e[i]==a){t=parseInt(i);break}for(let e=t;e>=0;e--){let t=s.slice(0,e+1),a=t.join("-"),n=t.reverse().join("-"),r=9999999999999;for(let t in i.productByUniqId)if(0==t.indexOf(a))if(variantsStatistic[a]||variantsStatistic[n]){if((variantsStatistic[a]?variantsStatistic[a]:variantsStatistic[n]).price==i.productByUniqId[t].price){l=t;break}}else i.productByUniqId[t].price<r&&(l=t,r=t);if(i.productByUniqId[l])break}}if(!i.productByUniqId[l]){let t=r.variants[0],e=null;for(let i of t.values){for(let t of i.options)t.id==n.id&&(e=i);if(e)break}if(e){let t={},i=l.split("-");for(let e of r.variants){let a=e.values.map(t=>t.id+"");for(let n of i)a.includes(n)&&(t[e.id]=n)}l=(d=Object.values(h(t,e,t))).join("-")}}if(i.productByUniqId[l])for(let t of i.productByUniqId[l].variants)f(t.variant_id,t.id);return l}function f(t,e){t&&e&&(variantCacheData[t]=e)}function m(t,e){let i=!1;if("OPTION"==t.type){let a=$(`#js-select-variant-${t.id} option[value=${e}]`);a.length?i=!0:"size"==t.slug&&(a=$(`#js-select-variant-${t.id} .js-choose-variant[data-variant-option-id=${e}]`)).length&&(i=!0)}else{let a=$(`#js-select-variant-${t.id} .js-choose-variant[data-variant-option-id=${e}]`);a.length||"PREVIEW"!=t.type||(a=$(`.more-product-content .js-choose-variant[data-variant-option-id=${e}]`)),a.length&&(i=!0)}return i}function h(t,e,i={}){if(i[e.variant_id]=e.id,f(e.variant_id,e.id),e.options&&e.options.length){let a=e.options[0],n=e.options.map(t=>t.id),s=[];for(let t of r.variants)if(t.id==a.variant_id){s=t.values;break}for(let t of s)if(5==e.variant_id&&t&&7==t.variant_id){if(155==t.id){a=t;break}}else if(n.includes(t.id)){a=t;break}for(let i of e.options)if(t[e.variant_id]==i.id){a=i;break}i=h(t,a,i)}return i}function g(t,e,i){let a=!1,n=!1;1==e?a=!0:7==e&&(n=!0);for(var r=0;r<t.length;r++)if(t[r]!=e){var o=null,d="#js-select-variant-"+t[r];if(enableMultipleSize&&$(d).attr("data-size"))o=$(d).attr("data-size");else{var l=$(d+" .js-choose-variant.active");l.length||7!=t[r]?7==t[r]&&$(".more-product-style-list .js-choose-variant").each((t,e)=>{$(e).removeClass("active")}):(l=$(".more-product-style-list .js-choose-variant.active"))&&$(d+" .js-choose-variant").each((t,e)=>{$(e).removeClass("active")}),l&&(o=l.attr("data-variant-option-id")),o||(o=$("#js-select-variant-"+t[r]).val());let e="",i="";if(-1==o){if(1==t[r]){let e=$("#js-select-variant-"+t[r]+" option");e.length>1&&(o=$(e[1]).attr("value"))}else{let t=s.variants.find(t=>"size"==t.variant_slug);t&&t.id&&(e=t.id)}let a=s.variants.find(t=>"style"==t.variant_slug);a&&a.id&&(i=a.id)}}o&&-1!=o?i+="-"+o:""==optionBySize||a?""==optionByStyle||n||(n=!0,i+="-"+optionByStyle):(a=!0,i+="-"+optionBySize)}return i}function y(t){if(t){let e=r.variants.filter(e=>{if(t.variant!=e.name)return e});e.length&&e.forEach((e,i)=>{let a=$("#js-select-variant-"+e.id),s=($("#js-variant-name-"+e.id),parseInt($(a).attr("data-show-invalid"))),r=w(e.type,e,s);a.html(r);let o=null;if(e.values&&e.values.length){if(t&&5==t.variant_id&&"style"==e.slug)for(let t of e.values)if(155==t.id){o=t.id;break}if(!o)for(let t of e.values)if(m(e,t.id)){o=t.id;break}}let d=function(t){return variantCacheData&&null!==variantCacheData[t]?variantCacheData[t]:null}(e.id);if(d&&function(t,e){var i=!1;if(e&&t&&Array.isArray(t))for(let a of t)if(a&&a.id==e){i=!0;break}return i}(e.values,d)&&m(e,d)&&(o=d),"OPTION"==e.type)"size"==e.slug&&enableMultipleSize&&$(a).attr("data-size",o),("size"!=e.slug||"size"==e.slug&&n)&&($(a).val(o),"size"==e.slug&&n&&$("#js-choose-size-value").text($("#js-choose-variant-"+o+" .product-size-item-content").text()));else{$(a).val(o),$(`[data-variant-option-id=${o}]`).addClass("active");let t=$(`[data-variant-option-id=${o}] > input[type="radio"]`);t&&t.length&&$(t).prop("checked",!0)}})}}function b(t,e){let a=!1,n=t+"-"+e,s=Object.keys(i.productByUniqId);for(let t of s)if(0==t.indexOf(n)){a=!0;break}return a}function w(t,e,a=!1,s=!1){let r="",o=e.values,d="";s||(s=$("#productSkuId").val());let l=i.productById[s],c=e.id;if(l){l.variants.forEach(t=>{t.variant_id!=c&&(d+="-"+t.id)});let s=[];for(let t of l.variants){if(t.variant_id==c)break;s.push(t.id)}switch(s=s.join("-"),t){case"OPTION":enableMultipleSize&&!isCustomDesign&&"size"==e.slug?(n||(r+=`<li class="product-size-item close-choose-size">\n                                <span class="product-size-item-content">${multiSizeText.chooseASize}</span>\n                                <span>\n                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">\n                                        <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>\n                                    </svg>\n                                </span>\n                            </li>`),o.forEach(t=>{""==d||!i.productByUniqId[t.id+d]||"undefined"!=typeof isHidePrice&&isHidePrice||(r+=`<li \n                                    id="js-choose-variant-${t.id}"\n                                    class="product-size-item select-a-size js-choose-variant"\n                                    data-variant-id="${e.id}"\n                                    data-variant-option-id="${t.id}"\n                                    title="${t.name}"\n                                    data-variant-name="${t.name}"\n                                >\n                                    <span class="product-size-item-content">\n                                    ${t.name}\n                                    (${i.productByUniqId[t.id+d].display_price})\n                                </span>\n                                </li>`)}),r+=`<li class="product-size-item open-multiple-size">\n                            <span>${multiSizeText.orderMultipleSize}</span>\n                        </li>`):o.forEach(t=>{let n=[],s="",o=!0;"style"==e.slug&&(n=d.split("-"))&&n.length>=2&&(o=!1,(s=n[1]+"-"+t.id)&&variantsStatistic&&(variantsStatistic[s]?o=!0:variantsStatistic[t.id+"-"+n[1]]&&(o=!0,s=t.id+"-"+n[1]))),o&&(i.productByUniqId[t.id+d]||a)&&(""==d||!i.productByUniqId[t.id+d]||"undefined"!=typeof isHidePrice&&isHidePrice?"style"==e.slug&&d&&s&&variantsStatistic&&variantsStatistic[s]&&("undefined"==typeof isHidePrice||!isHidePrice)&&(r+=`<option value="${t.id}">${t.name} (${variantsStatistic[s].display_price})</option>`):r+=`<option value="${t.id}" data-sku-key="${t.id+d}">${t.name} (${i.productByUniqId[t.id+d].display_price})</option>`)});break;case"PREVIEW":let l=5,c=0,u=0,p=0,v=0;for(let t=0;t<o.length;t++){let n=o[t];if(i.productByUniqId[n.id+d]||b(s,n.id)||a){if(u<l){c=t,u++;let a=null;if(i.productByUniqId[n.id+d])a=i.productByUniqId[n.id+d].image_url;else{let t=Object.keys(i.productByUniqId);for(let e of t)if(0==e.indexOf(`${s}-${n.id}-`)){a=i.productByUniqId[e].image_url;break}if(!a)for(let e of t)if(0==e.indexOf(`${n.id}-`)){a=i.productByUniqId[e].image_url;break}}r+=`\n                                <div\n                                    id="js-choose-variant-${n.id}"\n                                    class="js-choose-variant choose-variant-style flex-b align-c column"\n                                    data-url="${e.id}"\n                                    data-variant-id="${e.id}"\n                                    data-variant-option-id="${n.id}"\n                                    title="${n.name}"\n                                    data-variant-name="${n.name}"\n                                >\n                                    <span class="choose-style-variant variant-image-item" title="${n.name}">\n                                        <img\n                                            src="${getImageCdn(a,100,100)}"\n                                            alt="${n.name}"\n                                            title="${n.name}"\n                                            class="w-full img-round"\n                                        >\n                                    </span>\n                                </div>\n                                `}p=t,v++}}if(v>u){$("#js-more-product-style").removeClass("hidden");let t="";for(let n=c+1;n<o.length;n++){let s=o[n];if(i.productByUniqId[s.id+d]||a){let a=null;if(i.productByUniqId[s.id+d])a=i.productByUniqId[s.id+d].image_url;else{let t=Object.keys(i.productByUniqId);for(let e of t)if(0==e.indexOf(`${s.id}-`)){a=i.productByUniqId[e].image_url;break}}t+=`\n                                <div class="more-product-style-item">\n                                    <div\n                                        class="js-choose-variant AttributeValueThumbnail AttributeValueThumbnail--hasMoreInfoButton AttributeValueThumbnail--hoverEnabled AttributeValueThumbnail--selected AttributeValueThumbnail--sizeM"\n                                        data-variant-id="${e.id}"\n                                        data-variant-option-id="${s.id}"\n                                        data-variant-name="${s.name}"\n                                    >\n                                        <img src="${getImageCdn(a,300,300)}" alt=""${s.name}" class="attribute-value-thumbnail">\n                                    </div>\n                                    <div class="variant-style-title">${s.name}</div>\n                                </div>`}}$(".more-product-style-list .more-product-content").html(t)}else $("#js-more-product-style").addClass("hidden"),$(".more-product-style-list .more-product-content").html("");break;case"IMAGE":o.forEach(t=>{if(i.productByUniqId[t.id+d]||a){let a=t.image_url;!a&&i.productByUniqId[t.id+d]&&(a=i.productByUniqId[t.id+d].image_url),r+=`\n                            <div\n                                id="js-choose-variant-${e.id}"\n                                class="p-p5 js-choose-variant choose-image-variant "\n                                data-variant-id="${e.id}"\n                                data-variant-option-id="${t.id}"\n                                data-variant-name="${t.name}"\n                                title="${t.name}"\n                            >\n                                <img src="${getImageCdn(a,100,100)}" alt="${t.name}" class="w-full img-round">\n                            </div>\n                            `}});break;case"RADIOBOX":o.forEach(t=>{(i.productByUniqId[t.id+d]||a)&&(r+=`\n                            <label\n                                id="js-choose-variant-${t.id}"\n                                class="js-choose-variant radio-label"\n                                data-url="${e.id}"\n                                data-variant-id="${e.id}"\n                                data-variant-option-id="${t.id}"\n                                data-variant-name="${t.name}"\n                                data-variant-option-slug="${t.slug?t.slug:""}"\n                                title="${t.name}"\n                                data-type="radio"\n                            >\n                                <input class="radio-selector__radio radio-input" type="radio" name="radio-${e.id}">\n                                <span class="radio-selector__select radio-name">${t.name}</span>\n                            </label>\n                            `)})}}return r}function k(t,e,i=!0){if(void 0!==e[t]){if(e[t].variants.length>0&&e[t].variants.forEach(function(t){$(`#js-variant-name-${t.variant_id}`).text(t.name),$(`#js-preview-variant-name-${t.variant_id}`).text(t.name)}),$(".js-productSkuId").val(t).trigger("change"),"undefined"!=typeof nameTemplate&&""!=nameTemplate){var a=nameTemplate;e[t].variants.forEach(function(t){a.includes(`{${t.variant}}`)&&(a=a.replaceAll(`{${t.variant}}`,`${t.name}`))}),$(".js-product-name").text(a)}""!=e[t].sku?$("#js-sku").text(e[t].sku):$("#js-contain-sku").hide();var n=parseInt(e[t].price),s=parseInt(e[t].high_price),r=e[t].display_price,o=e[t].display_high_price;if(s>0&&"sale-price",""!=e[t].sale_percent&&canChangePrice?$("#js-sale-percent").html(e[t].sale_percent):$("#js-sale-percent").hide(),""==e[t].display_drop_price||"undefined"!=typeof isHidePrice&&isHidePrice||!canChangePrice?$("#js-display-drop-price").hide():$("#js-display-drop-price").html("("+e[t].display_drop_price+")"),"undefined"!=typeof isHidePrice&&isHidePrice&&!canChangePrice||($(".product-price").text(r),s>n?$(".product-high-price").text(o):$(".product-high-price").text("")),i){var d=window.location.href,l=getParameterByName("spid");l?d=d.replace("spid="+l,"spid="+t):-1!==d.indexOf("?")?d+="&spid="+t:d+="?spid="+t,history.replaceState(null,null,d),window.dispatchEvent(new Event("popstate")),window.dispatchEvent(new Event("variantChanged"))}var c=e[t];c.name=a,c.status&&"ACTIVE"!=c.status?($(".add-to-cart-btn").addClass("hidden"),$(".product-contact").removeClass("hidden")):($(".add-to-cart-btn").removeClass("hidden"),$(".product-contact").addClass("hidden")),u=c,$(".tt-btn-addtocart").attr("data-name",u.name),$(".tt-btn-addtocart").attr("data-id",u.product_id),$(".tt-btn-addtocart").attr("data-sku-id",u.id),$(".tt-btn-addtocart").attr("data-image",u.image_url),$(".tt-btn-addtocart").attr("data-price",u.price),$(".tt-btn-addtocart").attr("data-slug",toFriendlyString(u.name)),$(".tt-btn-addtocart").attr("data-quantity",parseInt($(".detail-product-quantity").val()))}else{let t=$(".js-swipe-container").attr("data-options");(t=t?JSON.parse(t):{direction:"horizontal",loop:!0}).navigation={nextEl:".mdi-chevron-left",prevEl:".mdi-chevron-right"}}var u}if(1==$("#js-product-content").is(":visible")&&screen.width>1030){var z=$(".product-detail-description").height();$(".product-more-content").click(function(){$("html, body").animate({scrollTop:$(".product-detail").offset().top+20},500),$(".product-detail-content").hasClass("extra-content")?($(".product-more-text").css("display","inline-flex"),$(".product-less-text").hide(),$(".product-detail-content").animate({height:130},100),$(".product-detail-content").removeClass("extra-content"),$(".product-detail-content").addClass("product-content-effect")):($(".product-more-text").hide(),$(".product-less-text").css("display","inline-flex"),$(".product-detail-content").animate({height:$(".product-detail-description").height()}),$(".product-detail-content").addClass("extra-content"),$(".product-detail-content").removeClass("product-content-effect"))}),z>135?($(".product-more-content").css("display","block"),$(".product-detail-content").addClass("product-content-effect")):$(".product-more-content").hide()}else screen.width<1030&&$(".product-more-content").css("display","none");function I(t,e,n=!0){var s=$(".js-choose-variant"),r=!1;if(s.each(function(t){var e=$(this).data("variant-option-slug");e&&isNaN(e)&&e.includes(womenText)&&$(this).hasClass("active")&&(r=!0)}),r){if("[]"!==selectedStyleText){let t=a;n&&(t=getParameterByName("spid"));var o=i.productById[t],d=-1;o.variants&&o.variants.forEach(t=>{"style"==t.variant_slug&&(d=t.id)});var l=JSON.parse(selectedStyleText),c=Object.keys(l),u=!1;for(var p of c)if(p==d){selectSizeReplace=l[p],u=!0;break}u||(selectSizeReplace="")}$(".text-select-size-woman").text(selectSizeReplace)}else $(".text-select-size-woman").text("")}$.ajax({url:"/product/recommendation?id="+$("#productId").val(),method:"GET"}).done(function(t){if("successful"==t.status&&t.result&&t.result.length>0){let e=[];t.result.forEach(t=>{e.push(t.id)}),$("#product-recommendation").val(e.join(","))}}),window.checkSizeBeforeAddToCart=function(){let t=!0;var e=i.productById[a];let s=!1,r=!1,d=0,l=0;if(e&&e.variants&&e.variants.length>0&&e.variants.forEach(t=>{"size"==t.variant_slug&&(s=!0,d=t.variant_id),"style"==t.variant_slug&&(r=!0,l=t.variant_id)}),s){let e=$("#js-select-variant-"+d+"[data-size]");if(e&&e.length)n&&e.attr("data-size")||(t=!1,o=!0),t||($("#js-select-size-multiple").addClass("active"),screen.width<1030&&!$("#js-choose-variant-popup").length&&$("html, body").animate({scrollTop:$("#js-select-size-multiple").offset().top-100},200),$("#js-select-size-multiple").addClass("error"),setTimeout(()=>{$("#js-select-size-multiple").removeClass("error")},100),setTimeout(()=>{$("#js-select-size-multiple").addClass("error")},200));else{-1==$("#js-select-variant-"+d).val()&&(t=!1),t||($("#js-select-variant-"+d).addClass("active"),screen.width<1030&&!$("#js-choose-variant-popup").length&&$("html, body").animate({scrollTop:$("#js-select-variant-"+d).offset().top-100},200),$("#js-select-variant-"+d).addClass("error"),setTimeout(()=>{$("#js-select-variant-"+d).removeClass("error")},100),setTimeout(()=>{$("#js-select-variant-"+d).addClass("error")},200))}}if(r){-1==$("#js-select-variant-"+l).val()&&(t=!1,$("#js-select-variant-"+l).addClass("active"),screen.width<1030&&$("html, body").animate({scrollTop:$("#js-select-variant-"+l).offset().top-100},200),$("#js-select-variant-"+l).addClass("error"),setTimeout(()=>{$("#js-select-variant-"+l).removeClass("error")},100),setTimeout(()=>{$("#js-select-variant-"+l).addClass("error")},200))}return t},window.addEventListener("selectVariant",function(t){p(t.detail)}),$(".choose-variant-style").click(function(){$(this).addClass("active").siblings().removeClass("active")}),$(document).on("click","#js-more-product-style",function(){$("body").addClass("open-variant"),$(".more-product-style-list").addClass("active loading"),setTimeout(function(){$(".more-product-style-list").removeClass("loading")},1e3)}),$(document).on("click",".more-product-close, .more-product-bg",function(){$("body").removeClass("open-variant"),$(".more-product-style-list").removeClass("active")})}),$("#toggle_print_back").change(function(){let t=$("#configurations").val();t=""!=t?JSON.parse(t):{},$("#toggle_print_back").is(":checked")&&(t.is_print_back=1,delete t.is_print_front,$("#configurations").val(JSON.stringify(t)).trigger("change"))}),$("#toggle_print_front").change(function(){let t=$("#configurations").val();""!=t&&(t=JSON.parse(t)),$("#toggle_print_front").is(":checked")&&(delete t.is_print_back,t.is_print_front=1,$("#configurations").val(JSON.stringify(t)).trigger("change"))}),$(".product-custom-box .product-detail-row").click(function(){if(!$(this).hasClass(".design-link")){let t=$(this).find(".design-link");t&&(window.location.href=$(t).attr("href"))}});
